<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>íšŒì› ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 12px; text-align: left; }
        th { background-color: #f8f9fa; }
        .btn { padding: 8px 12px; text-decoration: none; border-radius: 4px; font-size: 14px; }
        .btn-add { background-color: #28a745; color: white; float: right; }
        .btn-edit { background-color: #ffc107; color: black; margin-right: 5px; }
        .btn-delete { background-color: #dc3545; color: white; }
        .container { max-width: 1000px; margin: auto; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ‘¥ íšŒì› ê´€ë¦¬ ëª©ë¡ (CRUD í™•ì¸)</h2>

    <a th:href="@{/members/new}" class="btn btn-add">+ ì‹ ê·œ íšŒì› ë“±ë¡</a>

    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>ì´ë¦„</th>
            <th>ë‚˜ì´</th>
            <th>ì£¼ì†Œ</th>
            <th>ì „í™”ë²ˆí˜¸</th>
            <th>ê´€ë¦¬</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="member : ${memberList}">
            <td th:text="${member.memberId}">1</td>
            <td th:text="${member.name}">í™ê¸¸ë™</td>
            <td th:text="${member.age}">25</td>
            <td th:text="${member.address}">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬</td>
            <td th:text="${member.phone}">010-1234-5678</td>
            <td>
                <a th:href="@{/members/edit/{id}(id=${member.memberId})}" class="btn btn-edit">ìˆ˜ì •</a>
                <a th:href="@{/members/delete/{id}(id=${member.memberId})}"
                   class="btn btn-delete"
                   onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</a>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(memberList)}">
            <td colspan="6" style="text-align: center;">ë“±ë¡ëœ íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤.</td>
        </tr>
        </tbody>
    </table>
</div>

<div style="margin-top: 20px; text-align: center">
    <a th:href="@{/members/list(page=${page.number-1})}"
       th:if="${page.hasPrevious()}" style="margin-right: 10px;  text-decoration:none;">[ì´ì „]</a>

    <!-- ${#numbers.sequence(ì‹œì‘,ë) -> ì‹œì‘, ë ë°˜ë³µ -->
    <span th:each="idx : ${#numbers.sequence(0, page.totalPages-1)}">
        <a th:href="@{/members/list(page=${idx})}"
           th:text="${idx +1 }"
           th:style="${idx == page.number} ? 'font-weight:bold; color:blue; text-decoration:none;' : 'text-decoration:none; color:black' "
           style="margin: 0 5px;"></a>
    </span>

    <a th:href="@{/members/list(page=${page.number+1})}"
       th:if="${page.hasNext()}" style="margin-left: 10px; text-decoration:none;">[ë‹¤ìŒ]</a>
</div>

</body>
</html>